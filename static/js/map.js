$(document).ready(function () {
    const color_range={
        100:"rgb(255, 0, 0)",
        99: "rgb(255, 2.5, 2.5)",
        98: "rgb(255, 5, 5)",
        97: "rgb(255, 7.5, 7.5)",
        96: "rgb(255, 10, 10)",
        95: "rgb(255, 12.5, 12.5)",
        94: "rgb(255, 15, 15)",
        93: "rgb(255, 17.5, 17.5)",
        92: "rgb(255, 20.0, 20.0)",
        91: "rgb(255, 22.5, 22.5)",
        90: "rgb(255, 25.0, 25.0)",
        89: "rgb(255, 27.5, 27.5)",
        88: "rgb(255, 30.0, 30.0)",
        87: "rgb(255, 32.5, 32.5)",
        86: "rgb(255, 35.0, 35.0)",
        85: "rgb(255, 37.5, 37.5)",
        84: "rgb(255, 40.0, 40.0)",
        83: "rgb(255, 42.5, 42.5)",
        82: "rgb(255, 45.0, 45.0)",
        81: "rgb(255, 47.5, 47.5)",
        80: "rgb(255, 50.0, 50.0)",
        79: "rgb(255, 52.5, 52.5)",
        78: "rgb(255, 55.0, 55.0)",
        77: "rgb(255, 57.5, 57.5)",
        76: "rgb(255, 60.0, 60.0)",
        75: "rgb(255, 62.5, 62.5)",
        74: "rgb(255, 65.0, 65.0)",
        73: "rgb(255, 67.5, 67.5)",
        72: "rgb(255, 70.0, 70.0)",
        71: "rgb(255, 72.5, 72.5)",
        70: "rgb(255, 75.0, 75.0)",
        69: "rgb(255, 77.5, 77.5)",
        68: "rgb(255, 80.0, 80.0)",
        67: "rgb(255, 82.5, 82.5)",
        66: "rgb(255, 85.0, 85.0)",
        65: "rgb(255, 87.5, 87.5)",
        64: "rgb(255, 90.0, 90.0)",
        63: "rgb(255, 92.5, 92.5)",
        62: "rgb(255, 95.0, 95.0)",
        61: "rgb(255, 97.5, 97.5)",
        60: "rgb(255, 100.0, 100.0)",
        59: "rgb(255, 102.5, 102.5)",
        58: "rgb(255, 105.0, 105.0)",
        57: "rgb(255, 107.5, 107.5)",
        56: "rgb(255, 110.0, 110.0)",
        55: "rgb(255, 112.5, 112.5)",
        54: "rgb(255, 115.0, 115.0)",
        53: "rgb(255, 117.5, 117.5)",
        52: "rgb(255, 120.0, 120.0)",
        51: "rgb(255, 122.5, 122.5)",
        50: "rgb(255, 125.0, 125.0)",
        49: "rgb(255, 127.5, 127.5)",
        48: "rgb(255, 130.0, 130.0)",
        47: "rgb(255, 132.5, 132.5)",
        46: "rgb(255, 135.0, 135.0)",
        45: "rgb(255, 137.5, 137.5)",
        44: "rgb(255, 140.0, 140.0)",
        43: "rgb(255, 142.5, 142.5)",
        42: "rgb(255, 145.0, 145.0)",
        41: "rgb(255, 147.5, 147.5)",
        40: "rgb(255, 150.0, 150.0)",
        39: "rgb(255, 152.5, 152.5)",
        38: "rgb(255, 155.0, 155.0)",
        37: "rgb(255, 157.5, 157.5)",
        36: "rgb(255, 160.0, 160.0)",
        35: "rgb(255, 162.5, 162.5)",
        34: "rgb(255, 165.0, 165.0)",
        33: "rgb(255, 167.5, 167.5)",
        32: "rgb(255, 170.0, 170.0)",
        31: "rgb(255, 172.5, 172.5)",
        30: "rgb(255, 175.0, 175.0)",
        29: "rgb(255, 177.5, 177.5)",
        28: "rgb(255, 180.0, 180.0)",
        27: "rgb(255, 182.5, 182.5)",
        26: "rgb(255, 185.0, 185.0)",
        25: "rgb(255, 187.5, 187.5)",
        24: "rgb(255, 190.0, 190.0)",
        23: "rgb(255, 192.5, 192.5)",
        22: "rgb(255, 195.0, 195.0)",
        21: "rgb(255, 197.5, 197.5)",
        20: "rgb(255, 200.0, 200.0)",
        19: "rgb(255, 202.5, 202.5)",
        18: "rgb(255, 205.0, 205.0)",
        17: "rgb(255, 207.5, 207.5)",
        16: "rgb(255, 210.0, 210.0)",
        15: "rgb(255, 212.5, 212.5)",
        14: "rgb(255, 215.0, 215.0)",
        13: "rgb(255, 217.5, 217.5)",
        12: "rgb(255, 220.0, 220.0)",
        11: "rgb(255, 222.5, 222.5)",
        10: "rgb(255, 225.0, 225.0)",
        9:  "rgb(255, 227.5, 227.5)",
        8:  "rgb(255, 230.0, 230.0)",
        7:  "rgb(255, 232.5, 232.5)",
        6:  "rgb(255, 235.0, 235.0)",
        5:  "rgb(255, 237.5, 237.5)",
        4:  "rgb(255, 240.0, 240.0)",
        3:  "rgb(255, 242.5, 242.5)",
        2:  "rgb(255, 245.0, 245.0)",
        1:  "rgb(255, 247.5, 247.5)",
        0:  "rgb(255, 255, 255)"
    };

    selected = [];
    
    var colors_res = {};
    var positive_list=[];
    var debug_res={};
    
    $.get("https://api.covidtracking.com/v1/states/current.json", function(data, status){
        window.data=data;
        for(var i=0;i<56;i++){
            positive_list.push(parseInt(window.data[i]['positive']));
        }
        var difference = Math.max(...positive_list) - Math.min(...positive_list);
        var per_piece = Math.round(difference/100);
        
        for(var j=0;j<56;j++){
            var level = Math.round((window.data[j]['positive'] - Math.min(...positive_list)) / per_piece)
            colors_res[window.data[j]['state'].toLowerCase()] = color_range[level];
            debug_res[window.data[j]['state'].toLowerCase()] = level;
        }
        var debug_meta={'max': Math.max(...positive_list), 'min': Math.min(...positive_list), 'difference': difference, 'per_piece': per_piece};
        option = {
            map: 'usa_en',
            backgroundColor: 'rgba(26, 25, 25, 0.7)',
            borderColor: 'rgb(26, 25, 25)',
            borderOpacity: 0.7,
            borderWidth: 1,
            colors: colors_res,
            enableZoom: true,
            hoverColor: null,
            hoverOpacity: 0.7,
            normalizeFunction: 'linear',
            scaleColors: ['#b6d6ff', '#005ace'],
            selectedColor: '#c9dfaf',
            multiSelectRegion: true,
            selectedRegions: null,
            showTooltip: true,
            onRegionClick: function (event, code, region) {
                if (selected.includes(code)) {
                    $("#" + code).remove();
                    var index = selected.indexOf(code);
                    selected.splice(index, 1);
                } else {
                    selected.push(code);
                    showstatedata(code);
                }
            },
            onLoad: function (event, map) {

            },
            onRegionOver: function (event, code, region) {

            },
            onRegionSelect: function (event, code, region) {
            },
        };
        map = $('#vmap').vectorMap(option);
    });
    
    
    var chart1=JSON.stringify([["Tweets","Date"],[2.4,'1/3/2020'],
        [1.2     ,'1/4/2020'    ],
        [1.4     ,'1/5/2020'    ],
        [1.4     ,'1/6/2020'    ],
        [1.4     ,'1/7/2020'    ],
        [1.2     ,'1/8/2020'    ],
        [1.2     ,'1/12/2020'   ],
        [1       ,'1/13/2020'   ],
        [1.4     ,'1/14/2020'   ],
        [1.6     ,'1/15/2020'   ],
        [1.8     ,'1/18/2020'   ],
        [2       ,'1/19/2020'   ],
        [2.8     ,'1/20/2020'   ],
        [2.4     ,'1/22/2020'   ],
        [3.2     ,'1/23/2020'   ],
        [3.2     ,'1/25/2020'   ],
        [3.4     ,'1/26/2020'   ],
        [3.2     ,'1/27/2020'   ],
        [3.8     ,'1/28/2020'   ],
        [3       ,'1/30/2020'   ],
        [3.2     ,'1/31/2020'   ],
        [3.6     ,'2/2/2020'    ],
        [3.2     ,'2/3/2020'    ],
        [3.6     ,'2/5/2020'    ],
        [3.6     ,'2/6/2020'    ],
        [3.2     ,'2/7/2020'    ],
        [2.8     ,'2/8/2020'    ],
        [5       ,'2/9/2020'    ],
        [24.2    ,'2/10/2020'   ],
        [68.6    ,'2/11/2020'   ],
        [92.2    ,'2/12/2020'   ],
        [119     ,'2/13/2020'   ],
        [151.2   ,'2/14/2020'   ],
        [178.2   ,'2/15/2020'   ],
        [195.6   ,'2/16/2020'   ],
        [207     ,'2/17/2020'   ],
        [210     ,'2/18/2020'   ],
        [219.6   ,'2/19/2020'   ],
        [206     ,'2/20/2020'   ],
        [260     ,'2/21/2020'   ],
        [296.2   ,'2/22/2020'   ],
        [366.8   ,'2/23/2020'   ],
        [420     ,'2/24/2020'   ],
        [532.8   ,'2/25/2020'   ],
        [608     ,'2/26/2020'   ],
        [692.4   ,'2/27/2020'   ],
        [730     ,'2/28/2020'   ],
        [960.8   ,'2/29/2020'   ],
        [1046.4  ,'3/1/2020'    ],
        [1164.8  ,'3/2/2020'    ],
        [1435.2  ,'3/3/2020'    ],
        [1754    ,'3/4/2020'    ],
        [1874.6  ,'3/5/2020'    ],
        [2068.2  ,'3/6/2020'    ],
        [2447.6  ,'3/7/2020'    ],
        [2698.8  ,'3/8/2020'    ],
        [3270.2  ,'3/9/2020'    ],
        [5593.2  ,'3/10/2020'   ],
        [7863.4  ,'3/11/2020'   ],
        [8576.4  ,'3/12/2020'   ],
        [9463.4  ,'3/13/2020'   ],
        [10500.8 ,'3/14/2020'   ],
        [9954.4  ,'3/15/2020'   ],
        [9474    ,'3/16/2020'   ],
        [10772.6 ,'3/17/2020'   ],
        [11772.2 ,'3/18/2020'   ],
        [11989.2 ,'3/19/2020'   ],
        [12448   ,'3/20/2020'   ],
        [12958.6 ,'3/21/2020'   ],
        [12932.2 ,'3/22/2020'   ],
        [14051.4 ,'3/23/2020'   ],
        [14481   ,'3/24/2020'   ],
        [15995.4 ,'3/25/2020'   ],
        [16216.2 ,'3/26/2020'   ],
        [16192   ,'3/27/2020'   ],
        [15372.8 ,'3/28/2020'   ],
        [15731.8 ,'3/29/2020'   ],
        [14277.2 ,'3/30/2020'   ],
        [13988   ,'3/31/2020'   ],
        [13778   ,'4/1/2020'    ],
        [12980.2 ,'4/2/2020'    ],
        [12403.2 ,'4/3/2020'    ],
        [12842   ,'4/4/2020'    ],
        [12750.6 ,'4/5/2020'    ],
        [12662.2 ,'4/6/2020'    ],
        [12707.8 ,'4/7/2020'    ],
        [12237.2 ,'4/8/2020'    ],
        [11028.6 ,'4/9/2020'    ],
        [10072   ,'4/10/2020'   ],
        [9795.8  ,'4/11/2020'   ],
        [9802.6  ,'4/12/2020'   ],
        [9726.8  ,'4/13/2020'   ],
        [10041.4 ,'4/14/2020'   ],
        [10602.6 ,'4/15/2020'   ],
        [10561.8 ,'4/16/2020'   ],
        [10021.6 ,'4/17/2020'   ],
        [9917    ,'4/18/2020'   ],
        [9545.6  ,'4/19/2020'   ],
        [9734    ,'4/20/2020'   ],
        [9821    ,'4/21/2020'   ],
        [10004.8 ,'4/22/2020'   ],
        [9631.4  ,'4/23/2020'   ],
        [9280    ,'4/24/2020'   ],
        [8874.2  ,'4/25/2020'   ],
        [8702.4  ,'4/26/2020'   ],
        [8970.2  ,'4/27/2020'   ],
        [9478.8  ,'4/28/2020'   ],
        [9858.6  ,'4/29/2020'   ],
        [9563.4  ,'4/30/2020'   ],
        [9043.8  ,'5/1/2020'    ],
        [8620.6  ,'5/2/2020'    ],
        [8497    ,'5/3/2020'    ],
        [8341.6  ,'5/4/2020'    ],
        [8881    ,'5/5/2020'    ],
        [9780.2  ,'5/6/2020'    ],
        [10600.4 ,'5/7/2020'    ],
        [10528.6 ,'5/8/2020'    ],
        [10779.8 ,'5/9/2020'    ],
        [10346.2 ,'5/10/2020'   ],
        [9629.4  ,'5/11/2020'   ],
        [8897.2  ,'5/12/2020'   ],
        [8767.4  ,'5/13/2020'   ],
        [8153.8  ,'5/14/2020'   ],
        [7818.6  ,'5/15/2020'   ],
        [8154.6  ,'5/16/2020'   ],
        [8495.8  ,'5/17/2020'   ],
        [8645    ,'5/18/2020'   ],
        [8986.4  ,'5/19/2020'   ],
        [9189    ,'5/20/2020'   ],
        [8712.6  ,'5/21/2020'   ],
        [8211.8  ,'5/22/2020'   ],
        [7883.4  ,'5/23/2020'   ],
        [7718.4  ,'5/24/2020'   ],
        [7650.2  ,'5/25/2020'   ],
        [8131.6  ,'5/26/2020'   ],
        [8221.8  ,'5/27/2020'   ],
        [8160.6  ,'5/28/2020'   ],
        [7645    ,'5/29/2020'   ],
        [7267.8  ,'5/30/2020'   ],
        [6509.8  ,'5/31/2020'   ],
        [6326    ,'6/1/2020'    ],
        [6719    ,'6/2/2020'    ],
        [6891.6  ,'6/3/2020'    ],
        [6702.6  ,'6/4/2020'    ],
        [6468.8  ,'6/5/2020'    ],
        [6457.8  ,'6/6/2020'    ],
        [6095.4  ,'6/7/2020'    ],
        [6262.4  ,'6/8/2020'    ],
        [6682    ,'6/9/2020'    ],
        [7016.2  ,'6/10/2020'   ],
        [7184.8  ,'6/11/2020'   ],
        [6812.6  ,'6/12/2020'   ],
        [7136.8  ,'6/13/2020'   ],
        [7461    ,'6/14/2020'   ],
        [7935.2  ,'6/15/2020'   ],
        [8090.6  ,'6/16/2020'   ],
        [8949.4  ,'6/17/2020'   ],
        [10049   ,'6/18/2020'   ],
        [10173.2 ,'6/19/2020'   ],
        [10840.4 ,'6/20/2020'   ],
        [12104.4 ,'6/21/2020'   ],
        [12659   ,'6/22/2020'   ],
        [12226.4 ,'6/23/2020'   ],
        [12834   ,'6/24/2020'   ],
        [12276.2 ,'6/25/2020'   ],
        [10667   ,'6/26/2020'   ],
        [10097.6 ,'6/27/2020'   ],
        [10096.6 ,'6/28/2020'   ],
        [10058.8 ,'6/29/2020'   ],
        [10680.6 ,'6/30/2020'   ],
        [11636   ,'7/1/2020'    ],
        [12706.6 ,'7/2/2020'    ],
        [11979.6 ,'7/3/2020'    ],
        [12063.4 ,'7/4/2020'    ],
        [13195.2 ,'7/5/2020'    ],
        [13404   ,'7/6/2020'    ],
        [12657.4 ,'7/7/2020'    ],
        [13336   ,'7/8/2020'    ],
        [13995   ,'7/9/2020'    ],
        [13453.2 ,'7/10/2020'   ],
        [13811.4 ,'7/11/2020'   ],
        [14401.2 ,'7/12/2020'   ],
        [15258.4 ,'7/13/2020'   ],
        [15015.6 ,'7/14/2020'   ],
        [14924.6 ,'7/15/2020'   ],
        [14048.8 ,'7/16/2020'   ],
        [13191   ,'7/17/2020'   ],
        [12671.2 ,'7/18/2020'   ],
        [11996.2 ,'7/19/2020'   ],
        [11166.4 ,'7/20/2020'   ],
        [11339   ,'7/21/2020'   ],
        [11285.6 ,'7/22/2020'   ],
        [10209.4 ,'7/23/2020'   ],
        [9262.4  ,'7/24/2020'   ],
        [10411.2 ,'7/25/2020'   ],
        [10526.2 ,'7/26/2020'   ],
        [11326   ,'7/27/2020'   ],
        [12476.4 ,'7/28/2020'   ],
        [13602.6 ,'7/29/2020'   ],
        [12156.6 ,'7/30/2020'   ],
        [12166.2 ,'7/31/2020'   ],
        [12017.6 ,'8/1/2020'    ],
        [11418.4 ,'8/2/2020'    ],
        [10760.6 ,'8/3/2020'    ],
        [11358.6 ,'8/4/2020'    ],
        [11085.6 ,'8/5/2020'    ],
        [9929.2  ,'8/6/2020'    ],
        [9276.2  ,'8/7/2020'    ],
        [9897    ,'8/8/2020'    ],
        [9377    ,'8/9/2020'    ],
        [9046.8  ,'8/10/2020'   ],
        [9443    ,'8/11/2020'   ],
        [9579.6  ,'8/12/2020'   ],
        [8499.4  ,'8/13/2020'   ],
        [7749.6  ,'8/14/2020'   ],
        [7603.8  ,'8/15/2020'   ],
        [7499    ,'8/16/2020'   ],
        [7409.2  ,'8/17/2020'   ],
        [7936    ,'8/18/2020'   ],
        [8410.4  ,'8/19/2020'   ],
        [8086.2  ,'8/20/2020'   ],
        [7805    ,'8/21/2020'   ],
        [8160.2  ,'8/22/2020'   ],
        [8167    ,'8/23/2020'   ],
        [8144.4  ,'8/24/2020'   ],
        [8810.8  ,'8/25/2020'   ],
        [9398.6  ,'8/26/2020'   ],
        [9039.6  ,'8/27/2020'   ],
        [8662.8  ,'8/28/2020'   ],
        [8685.8  ,'8/29/2020'   ],
        [8289.2  ,'8/30/2020'   ],
        [7977.4  ,'8/31/2020'   ],
        [9750.6  ,'9/1/2020'    ],
        [10305.4 ,'9/2/2020'    ],
        [9801.8  ,'9/3/2020'    ],
        [9550.4  ,'9/4/2020'    ],
        [9349.4  ,'9/5/2020'    ],
        [7607    ,'9/6/2020'    ],
        [7161.2  ,'9/7/2020'    ],
        [7721    ,'9/8/2020'    ],
        [7929.4  ,'9/9/2020'    ],
        [7696    ,'9/10/2020'   ],
        [7100.8  ,'9/11/2020'   ],
        [7183.8  ,'9/12/2020'   ],
        [6953.6  ,'9/13/2020'   ],
        [7335    ,'9/14/2020'   ],
        [7975.6  ,'9/15/2020'   ],
        [8659    ,'9/16/2020'   ],
        [8152.8  ,'9/17/2020'   ],
        [7614.8  ,'9/18/2020'   ],
        [7345.8  ,'9/19/2020'   ],
        [7256.2  ,'9/20/2020'   ],
        [7465    ,'9/21/2020'   ],
        [8661.2  ,'9/22/2020'   ],
        [9307.4  ,'9/23/2020'   ],
        [8832.2  ,'9/24/2020'   ],
        [8065    ,'9/25/2020'   ],
        [7466.2  ,'9/26/2020'   ],
        [7202    ,'9/27/2020'   ],
        [7240.6  ,'9/28/2020'   ],
        [7958.6  ,'9/29/2020'   ],
        [11909.8 ,'9/30/2020'   ],
        [15827.2 ,'10/1/2020'   ],
        [18418.2 ,'10/2/2020'   ],
        [23711.4 ,'10/3/2020'   ],
        [27375.2 ,'10/4/2020'   ],
        [26820.2 ,'10/5/2020'   ],
        [25578.8 ,'10/6/2020'   ],
        [24092.4 ,'10/7/2020'   ],
        [19663   ,'10/8/2020'   ],
        [16166.2 ,'10/9/2020'   ],
        [14263.4 ,'10/10/2020'  ],
        [13177.2 ,'10/11/2020'  ],
        [13017.8 ,'10/12/2020'  ],
        [13427.6 ,'10/13/2020'  ],
        [13566.2 ,'10/14/2020'  ],
        [12570.2 ,'10/15/2020'  ],
        [10991   ,'10/16/2020'  ],
        [9450.8  ,'10/17/2020'  ],
        [8055    ,'10/18/2020'  ],
        [7572.8  ,'10/19/2020'  ],
        [7713.2  ,'10/20/2020'  ],
        [7873.8  ,'10/21/2020'  ],
        [7658    ,'10/22/2020'  ],
        [8393.2  ,'10/23/2020'  ],
        [8658.8  ,'10/24/2020'  ],
        [8788.6  ,'10/25/2020'  ],
        [11391.8 ,'10/26/2020'  ],
        [12295.6 ,'10/27/2020'  ],
        [12235.8 ,'10/28/2020'  ],
        [11822   ,'10/29/2020'  ],
        [11241.8 ,'10/30/2020'  ],
        [9131.4  ,'10/31/2020'  ],
        [8709.2  ,'11/1/2020'   ],
        [7967.8  ,'11/2/2020'   ],
        [8209.4  ,'11/3/2020'   ],
        [8647.2  ,'11/4/2020'   ],
        [9127.4  ,'11/5/2020'   ],
        [8607.6  ,'11/6/2020'   ],
        [9921.6  ,'11/7/2020'   ],
        [10096.2 ,'11/8/2020'   ],
        [10349.6 ,'11/9/2020'   ],
        [10465.4 ,'11/10/2020'  ],
        [12554.4 ,'11/11/2020'  ],
        [11782.4 ,'11/12/2020'  ],
        [11631.2 ,'11/13/2020'  ],
        [12024   ,'11/14/2020'  ],
        [11787.2 ,'11/15/2020'  ],
        [10893.4 ,'11/16/2020'  ],
        [11123.2 ,'11/17/2020'  ],
        [12317.2 ,'11/18/2020'  ],
        [12608.6 ,'11/19/2020'  ],
        [12021.6 ,'11/20/2020'  ],
        [11770.2 ,'11/21/2020'  ],
        [11474.2 ,'11/22/2020'  ],
        [10636.8 ,'11/23/2020'  ],
        [9832    ,'11/24/2020'  ],
        [9699.4  ,'11/25/2020'  ],
        [8863.4  ,'11/26/2020'  ],
        [8336    ,'11/27/2020'  ],
        [8074    ,'11/28/2020'  ],
        [8368.6  ,'11/29/2020'  ],
        [8509.6  ,'11/30/2020'  ],
        [8954.8  ,'12/1/2020'   ],
        [9205    ,'12/2/2020'   ],
        [8782.8  ,'12/3/2020'   ],
        [9029    ,'12/4/2020'   ],
        [9748.6  ,'12/5/2020'   ],
        [9870.2  ,'12/6/2020'   ],
        [10608.8 ,'12/7/2020'   ],
        [11098.4 ,'12/8/2020'   ],
        [10581   ,'12/9/2020'   ],
        [9676.2  ,'12/10/2020'  ],
        [9278.2  ,'12/11/2020'  ],
        [8598.4  ,'12/12/2020'  ],
        [8394.6  ,'12/13/2020'  ],
        [8215.6  ,'12/14/2020'  ],
        [9324    ,'12/15/2020'  ],
        [9770.8  ,'12/16/2020'  ],
        [9448.2  ,'12/17/2020'  ],
        [8960.6  ,'12/18/2020'  ],
        [8765.2  ,'12/19/2020'  ],
        [7811    ,'12/20/2020'  ],
        [7417.6  ,'12/21/2020'  ],
        [7383.4  ,'12/22/2020'  ],
        [7122.6  ,'12/23/2020'  ],
        [6648.4  ,'12/24/2020'  ],
        [6049.2  ,'12/25/2020'  ],
        [6120.8  ,'12/26/2020'  ],
        [6698    ,'12/27/2020'  ],
        [8249.4  ,'12/28/2020'  ],
        [9471.4  ,'12/29/2020'  ]])

});


function showstatedata(code) {
    label = $('<div/>').attr('id', code).addClass('jqvmap-label').appendTo($('body')).hide();
    var string = getStateData(code);
    label.html(string);
    var pos = localStorage.position.split(",");
    var left = pos[0];
    var top = pos[1];
    label.css({
        position: 'absolute',
        left: left+'px',
        top: top+'px'
    });
    label.show();
}

function getStateData(stateCode){
    for(var i=0;i<56;i++){
        if(window.data[i]['state']==stateCode.toUpperCase()){
            var positive=parseInt(parseInt(window.data[i]['positive'])/100).toString();
            var totalTestResults=window.data[i]['totalTestResults'];
            var death=window.data[i]['death'];
            return "State: "+stateCode.toUpperCase()+"<br>Positive Number: "+positive;
        }
    }
}